(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dcf1c19"],{"164b":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order"},[i("div",{staticClass:"order__header"},[i("div",{staticClass:"order__header-wrapper"},[i("base-burger",{staticClass:"order__header-burger",class:{"order__header-burger--active":e.isMenuOpen},attrs:{"is-active":e.isMenuOpen},on:{click:e.toggleMenuVisibility}}),i("router-link",{staticClass:"order__logo",attrs:{to:{name:"main"}}},[e._v(" Need for drive ")])],1),e.isLocationSelectorShow?i("base-autocomplete",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.toggleAutocompleteVisibility,expression:"toggleAutocompleteVisibility"}],attrs:{list:e.locationList,placeholder:"Начните вводить город..."},on:{select:e.toggleAutocompleteVisibility},model:{value:e.currentLocation,callback:function(t){e.currentLocation=t},expression:"currentLocation"}}):i("div",{staticClass:"main__location",on:{click:e.toggleAutocompleteVisibility}},[i("span",{staticClass:"main__location-text"},[e._v(e._s(e.currentLocation.name))])])],1),i("div",{staticClass:"order__bread-crumbs crumbs"},["order"===e.routeName?i("div",{staticClass:"order__id"},[e._v(" Заказ номер RU"+e._s(e.id)+" ")]):i("the-crumbs")],1),i("div",{staticClass:"order__wrapper"},[i("div",{staticClass:"order__area"},[i("keep-alive",[i("router-view")],1)],1),i("div",{staticClass:"order__statement"},[i("the-bid")],1)])])},o=[],a=i("5530"),n=(i("a9e3"),i("b0c0"),i("3800")),s=i("c5c1"),l=i("2f62"),c=i("c28b"),u=i.n(c),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"crumbs__list"},e._l(e.items,(function(t,r){return i("router-link",{key:r,attrs:{to:{name:t.routeName},custom:""},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.navigate,a=r.isExactActive;return[i("li",{staticClass:"crumbs__item",class:{"crumbs__item--active":a,"crumbs__item--disabled":!t.isAllowed},on:{click:o}},[e._v(" "+e._s(t.text)+" ")])]}}],null,!0)})})),1)},f=[],b=i("efc3"),h={name:"TheCrumbs",computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({isLocationFilled:b["b"].isLocationFilled,isModelFilled:b["b"].isModelFilled,isPeriodFilled:b["b"].isPeriodFilled})),{},{items:function(){return[{text:this.$t("orderPage.crumbs.location"),routeName:"orderLocation",isAllowed:!0},{text:this.$t("orderPage.crumbs.model"),routeName:"orderModel",isAllowed:this.isLocationFilled},{text:this.$t("orderPage.crumbs.additionally"),routeName:"orderAdditionally",isAllowed:this.isModelFilled},{text:this.$t("orderPage.crumbs.total"),routeName:"orderTotal",isAllowed:this.isPeriodFilled}]},routeName:function(){return this.$route.name}})},m=h,v=(i("c4d9"),i("2877")),_=Object(v["a"])(m,d,f,!1,null,"66d98802",null),p=_.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bid"},[i("h3",{staticClass:"bid__title"},[e._v("Ваш заказ:")]),i("app-bid-row",{scopedSlots:e._u([{key:"label",fn:function(){return[e._v("Пункт выдачи")]},proxy:!0},{key:"value",fn:function(){return[i("div",[e._v(e._s(e.city.name)+",")]),e._v(" "+e._s(e.point.name)+" ")]},proxy:!0}])}),e._l(e.bidRows,(function(t,r){return i("app-bid-row",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"row.isVisible"}],key:r,scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s(t.label))]},proxy:!0},{key:"value",fn:function(){return[e._v(e._s(t.value))]},proxy:!0}],null,!0)})})),i("div",{staticClass:"bid__price"},[i("strong",{staticClass:"bid__price-title"},[e._v("Цена: ")]),e.isPeriodFilled?i("span",{staticClass:"bid__price-value"},[i("nobr",[e._v(e._s(e.priceToString(e.priceWithAdditionalServices))+" ₽")])],1):i("span",{staticClass:"bid__price-value"},[e._v(" от "),i("nobr",[e._v(e._s(e.priceRange.min))]),e._v(" до "),i("nobr",[e._v(e._s(e.priceRange.max)+" ₽")])],1)]),i("router-link",{attrs:{to:{name:e.currentButtonParam.nextRouteName},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[i("base-button",{staticClass:"bid__button",attrs:{disabled:!e.currentButtonParam.isAllowed},on:{click:r}},[e._v(" "+e._s(e.currentButtonParam.text)+" ")])]}}])})],2)},y=[],N=(i("7db0"),i("99af"),i("fb6a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bid__model bid__row"},[i("div",{staticClass:"bid__row-title"},[e._t("label")],2),i("div",{staticClass:"bid__row-divided"}),i("div",{staticClass:"bid__row-value"},[e._t("value")],2)])}),w=[],F={name:"BidRow"},x=F,C=(i("cd61"),Object(v["a"])(x,N,w,!1,null,"66ba18d8",null)),A=C.exports,T={name:"TheBid",components:{AppBidRow:A},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({city:n["b"].location,point:b["b"].point,model:b["b"].car,dateFrom:b["b"].dateFrom,dateTo:b["b"].dateTo,fullTank:b["b"].fullTank,babyChair:b["b"].babyChair,rightHandDrive:b["b"].rightHandDrive,isLocationFilled:b["b"].isLocationFilled,isModelFilled:b["b"].isModelFilled,isPeriodFilled:b["b"].isPeriodFilled})),{},{bidRows:function(){var e,t;return[{isVisible:this.isModelFilled,label:"Модель",value:null===(e=this.model)||void 0===e?void 0:e.name},{isVisible:this.isPeriodFilled,label:"Цвет",value:this.color},{isVisible:this.isPeriodFilled,label:"Длительность аренды",value:this.leaseDuration},{isVisible:this.isPeriodFilled,label:"Тариф",value:null===(t=this.tariff.rateTypeId)||void 0===t?void 0:t.name},{isVisible:this.isPeriodFilled&&this.fullTank,label:"Полный бак",value:"Да"},{isVisible:this.isPeriodFilled&&this.babyChair,label:"Детское кресло",value:"Да"},{isVisible:this.isPeriodFilled&&this.rightHandDrive,label:"Правый руль",value:"Да"}]},routeName:function(){return this.$route.name},color:function(){return this.$store.getters[b["b"].color]},tariff:function(){return this.$store.getters[b["b"].tariff]},isModelPartVisible:function(){return"orderModel"!==this.routeName&&this.isModelFilled||"orderModel"===this.routeName&&this.isModelFilled},isAdditionallyPartVisible:function(){return"orderTotal"!==this.routeName&&this.isPeriodFilled||"orderTotal"===this.routeName&&this.isPeriodFilled},buttonParams:function(){return[{routeName:"orderLocation",text:"Выбрать модель",isAllowed:this.isLocationFilled,nextRouteName:"orderModel"},{routeName:"orderModel",text:"Дополнительно",isAllowed:this.isLocationFilled&&this.isModelFilled,nextRouteName:"orderAdditionally"},{routeName:"orderAdditionally",text:"Итого",isAllowed:this.isLocationFilled&&this.isModelFilled&&this.isPeriodFilled,nextRouteName:"orderTotal"},{routeName:"orderTotal",text:"Заказать",isAllowed:!0,nextRouteName:"order"}]},currentButtonParam:function(){var e=this;return this.buttonParams.find((function(t){return t.routeName===e.routeName}))},priceRange:function(){return this.isModelFilled?{min:this.priceToString(this.model.priceMin),max:this.priceToString(this.model.priceMax)}:{min:this.priceToString(8e3),max:this.priceToString(12e3)}},timeDifference:function(){var e=this.dateTo-this.dateFrom;return e>0?e:0},leaseDuration:function(){var e=36e5,t=864e5,i=Math.floor((this.timeDifference+e)/t),r=this.timeDifference-i*t,o=Math.ceil(r/e);return"".concat(i,"д ").concat(o,"ч")},tariffPrice:function(){var e=this,t=[{unit:"сутки",value:864e5},{unit:"7 дней",value:6048e5},{unit:"мин",value:6e4}],i=t.find((function(t){return e.tariff.rateTypeId.unit===t.unit})),r=Math.ceil(this.timeDifference/i.value)*this.tariff.price;return r},priceWithAdditionalServices:function(){var e=0,t={fullTank:500,babyChair:200,rightHandDrive:1600};return this.fullTank&&(e+=t.fullTank),this.babyChair&&(e+=t.babyChair),this.rightHandDrive&&(e+=t.rightHandDrive),this.tariffPrice+e}}),methods:{priceToString:function(e){var t=String(e),i=t.slice(0,t.length-3),r=t.slice(-3);return"".concat(i,"  ").concat(r)}}},M=T,P=(i("70a5"),Object(v["a"])(M,g,y,!1,null,"129efbd8",null)),k=P.exports,S=i("1f73"),L={name:"OrderPage",components:{BaseBurger:S["default"],TheCrumbs:p,TheBid:k},props:{id:{type:Number}},directives:{vClickOutside:u.a},data:function(){return{isLocationSelectorShow:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({isMenuOpen:n["b"].menuIsOpen,locationList:s["c"].allCities,location:n["b"].location})),{},{currentLocation:{get:function(){return this.location},set:function(e){this.$store.commit(n["c"].setLocation,e)}},routeName:function(){return this.$route.name}}),methods:Object(a["a"])(Object(a["a"])({},Object(l["d"])({toggleMenuVisibility:n["c"].toggleMenuVisibility})),{},{toggleAutocompleteVisibility:function(){this.isLocationSelectorShow=!this.isLocationSelectorShow}})},O=L,V=(i("58f9"),Object(v["a"])(O,r,o,!1,null,"4e3f989c",null));t["default"]=V.exports},"22fb":function(e,t,i){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var r=i("1d80"),o=i("5899"),a="["+o+"]",n=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(e){return function(t){var i=String(r(t));return 1&e&&(i=i.replace(n,"")),2&e&&(i=i.replace(s,"")),i}};e.exports={start:l(1),end:l(2),trim:l(3)}},"58f9":function(e,t,i){"use strict";i("22fb")},"70a5":function(e,t,i){"use strict";i("95bf")},7156:function(e,t,i){var r=i("861d"),o=i("d2bb");e.exports=function(e,t,i){var a,n;return o&&"function"==typeof(a=t.constructor)&&a!==i&&r(n=a.prototype)&&n!==i.prototype&&o(e,n),e}},"7db0":function(e,t,i){"use strict";var r=i("23e7"),o=i("b727").find,a=i("44d2"),n="find",s=!0;n in[]&&Array(1)[n]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(n)},"95bf":function(e,t,i){},"99af":function(e,t,i){"use strict";var r=i("23e7"),o=i("d039"),a=i("e8b5"),n=i("861d"),s=i("7b0b"),l=i("50c4"),c=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),b=i("2d00"),h=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",_=b>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),p=d("concat"),g=function(e){if(!n(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},y=!_||!p;r({target:"Array",proto:!0,forced:y},{concat:function(e){var t,i,r,o,a,n=s(this),d=u(n,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?n:arguments[t],g(a)){if(o=l(a.length),f+o>m)throw TypeError(v);for(i=0;i<o;i++,f++)i in a&&c(d,f,a[i])}else{if(f>=m)throw TypeError(v);c(d,f++,a)}return d.length=f,d}})},"9eb5":function(e,t,i){},a9e3:function(e,t,i){"use strict";var r=i("83ab"),o=i("da84"),a=i("94ca"),n=i("6eeb"),s=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),d=i("d039"),f=i("7c73"),b=i("241c").f,h=i("06cf").f,m=i("9bf2").f,v=i("58a8").trim,_="Number",p=o[_],g=p.prototype,y=l(f(g))==_,N=function(e){var t,i,r,o,a,n,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=c.slice(2),n=a.length,s=0;s<n;s++)if(l=a.charCodeAt(s),l<48||l>o)return NaN;return parseInt(a,r)}return+c};if(a(_,!p(" 0o1")||!p("0b1")||p("+0x1"))){for(var w,F=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof F&&(y?d((function(){g.valueOf.call(i)})):l(i)!=_)?c(new p(N(t)),i,F):N(t)},x=r?b(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;x.length>C;C++)s(p,w=x[C])&&!s(F,w)&&m(F,w,h(p,w));F.prototype=g,g.constructor=F,n(o,_,F)}},c289:function(e,t,i){},c4d9:function(e,t,i){"use strict";i("c289")},cd61:function(e,t,i){"use strict";i("9eb5")}}]);
//# sourceMappingURL=chunk-5dcf1c19.deb91d8a.js.map